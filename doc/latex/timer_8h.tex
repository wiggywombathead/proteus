\hypertarget{timer_8h}{}\section{/home/tom/compsci/thirdyear/cs310/include/kernel/timer.h File Reference}
\label{timer_8h}\index{/home/tom/compsci/thirdyear/cs310/include/kernel/timer.h@{/home/tom/compsci/thirdyear/cs310/include/kernel/timer.h}}


Code to interact with the system timer peripheral on the Pi.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$kernel/peripheral.\+h$>$}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtimer__ctrl}{timer\+\_\+ctrl}}
\item 
struct \mbox{\hyperlink{structsys__timer}{sys\+\_\+timer}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{timer_8h_a2804eca985e565a002147bfe7253de91}\label{timer_8h_a2804eca985e565a002147bfe7253de91}} 
\#define {\bfseries S\+Y\+S\+T\+I\+M\+E\+R\+\_\+\+B\+A\+SE}~(P\+E\+R\+I\+P\+H\+E\+R\+A\+L\+\_\+\+B\+A\+SE + S\+Y\+S\+T\+I\+M\+E\+R\+\_\+\+O\+F\+F\+S\+ET)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9}{timer\+\_\+init}} (void)
\item 
void \mbox{\hyperlink{timer_8h_a750395abf8f7c12bc891bb90666f9551}{timer\+\_\+set}} (uint32\+\_\+t)
\item 
\mbox{\Hypertarget{timer_8h_a4395a4f1acbd8c3cc8d4c4ee6d39ace8}\label{timer_8h_a4395a4f1acbd8c3cc8d4c4ee6d39ace8}} 
void {\bfseries uwait} (uint32\+\_\+t)
\item 
\mbox{\Hypertarget{timer_8h_a330e1f9170450c00b02e53f4a2fe1c12}\label{timer_8h_a330e1f9170450c00b02e53f4a2fe1c12}} 
void {\bfseries udelay} (uint32\+\_\+t)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{timer_8h_a1b779ab5fbfacabc8e27077f21c46100}\label{timer_8h_a1b779ab5fbfacabc8e27077f21c46100}} 
uint32\+\_\+t {\bfseries uptime}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Code to interact with the system timer peripheral on the Pi. 



\subsection{Function Documentation}
\mbox{\Hypertarget{timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9}\label{timer_8h_a7b8ab79df77b57475a5494f5f81c3bd9}} 
\index{timer.h@{timer.h}!timer\_init@{timer\_init}}
\index{timer\_init@{timer\_init}!timer.h@{timer.h}}
\subsubsection{\texorpdfstring{timer\_init()}{timer\_init()}}
{\footnotesize\ttfamily void timer\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initialise the system timer -\/ this registers the timer\+\_\+irq\+\_\+handler function as the system timer I\+RQ\textquotesingle{}s handler function \mbox{\Hypertarget{timer_8h_a750395abf8f7c12bc891bb90666f9551}\label{timer_8h_a750395abf8f7c12bc891bb90666f9551}} 
\index{timer.h@{timer.h}!timer\_set@{timer\_set}}
\index{timer\_set@{timer\_set}!timer.h@{timer.h}}
\subsubsection{\texorpdfstring{timer\_set()}{timer\_set()}}
{\footnotesize\ttfamily void timer\+\_\+set (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{usecs }\end{DoxyParamCaption})}

Set the timer to go off in some number of microseconds 
\begin{DoxyParams}{Parameters}
{\em usecs} & Microseconds to wait before firing the next I\+RQ \\
\hline
\end{DoxyParams}
